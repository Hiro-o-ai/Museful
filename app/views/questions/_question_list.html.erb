<div class="new-quesiton">
  <% if user_signed_in? %>
    <%= link_to new_question_path, class: "nav-link" do%><i class="fa fa-plus-square" aria-hidden="true" style="font-size: 40px;"></i> 新規投稿<% end %>
  <% end %>
</div>
<% @questions.each do |question| %>
  <div class="question-item">
    <div class="row question-item-head">
      <h3><b><%= question.title %></b></h3>
    </div>
    <% question.question_genres.each do |genre_map| %>
      <div class="question-item-tag">
        <%= genre_map.genre.name %>
      </div>
    <% end %>
    <div class="col-md-9 question-item-content overflow-auto">
      <!-- html_safeメソッドでエスケープ処理を防ぐ -->
      <%= question.content.html_safe %>
    </div>
    <% if user_signed_in? && question.user_id != current_user.id %>
      <div class="row response-box">
        <div class="col-md-3 response" id="response-<%= question.id %>">
          <%= render "responses/response", question: question %>
        </div>
      </div>
    <% end %>
    <div class="row link-box">
      <% if user_signed_in? && question.user_id == current_user.id%>
        <div class="offset-md-7 show">
           <%= link_to question_path(question), class: "btn btn-primary btn-md" do%><i class="fa fa-search-plus" aria-hidden="true"></i> 詳細<% end %>
        </div>
        <div class="edit">
          <%= link_to edit_question_path(question), class: "btn btn-primary btn-md" do%><i class="fa fa-pencil-square-o" aria-hidden="true"></i> 編集<% end %>
        </div>
        <div class="destroy">
          <%= link_to question_path(question), method: :delete, "data-confirm" => "本当に削除してもよろしいですか?", class: "btn btn-primary btn-md" do%><i class="fa fa-trash-o" aria-hidden="true"></i> 削除<% end %>
        </div>
      <% else %>
        <div class="offset-md-9 show">
           <%= link_to question_path(question), class: "btn btn-primary btn-md" do%><i class="fa fa-search-plus" aria-hidden="true"></i> 詳細<% end %>
        </div>
      <% end %>
    </div>
  </div>
<% end %>