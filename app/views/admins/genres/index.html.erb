<%= render "layouts/admin_header" %>

<h3>ジャンル一覧・追加</h3>

<%= form_with(url: admins_genres_path, model: @genre, local:true) do |f| %>
  <%= render "admins/shared/error_messages", resource: f.object %>
  <%= f.label :name, "ジャンル" %>
  <%= f.text_field :name, autocomplete: "name" %>
    <label>
      <%= f.radio_button :case, "記事" %> 記事
    </label>
    <label>
      <%= f.radio_button :case, "質問" %> 質問
    </label>
  <%= f.submit "追加",class: "btn btn-primary btn-md" %>
<% end %>

<table class="table table-bordered">
  <thead>
    <th>ジャンル</th>
    <th>タイプ</th>
    <th>状態</th>
    <th></th>
  </thead>
  <tbody>
    <% @genres.each do |genre| %>
    <tr>
    <td>
      <%= genre.name %>
    </td>
    <td>
      <% if genre.case == "記事" %>
        記事
      <% else %>
        質問
      <% end %>
    </td>
    <td>
      <% if genre.status == "有効" %>
        有効
      <% else %>
        無効
      <% end %>
    </td>
    <td>
      <%= link_to "編集する",edit_admins_genre_path(genre.id), class: "btn btn-primary btn-md" %>
    </td>
    </tr>
    <% end %>
  </tbody>
</table>
