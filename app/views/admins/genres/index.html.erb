<%= render "layouts/admin_header" %>

<div class="container-fluid admin">
  <div class="row justify-content-center">
    <div class="col-md-6 admin-genre">
      <div class="pin"></div>
      <div class="admin-genre-title">
        <h3>ジャンル追加</h3>
      </div>
      <%= form_with(url: admins_genres_path, model: @genre, local:true) do |f| %>
        <%= render "admins/shared/error_messages", resource: f.object %>

        <div class="form-group">
          <label class="control-label" for="genre_name">ジャンル</label>
          <%= f.text_field :name, autofocus: true, class: "form-control", placeholder:"ジャンル名"%>
        </div><br>

        <div class="form-group">
          <label class="control-label" for="genre_case">タイプ</label><br>
          <label><%=f.radio_button :case, "記事" %>記事</label>
          <label><%=f.radio_button :case, "質問" %>質問</label>
        </div>

        <%= f.submit "追加", class:"btn btn-lg btn-block btn-success shadow" %>
      <% end %>
    </div>
  </div>
  <div class="row justify-content-center">
    <div class="col-md-11 genre-index-box">
      <div class="pin"></div>
      <div class="admin-genre-index-title">
        <h3>ジャンル一覧</h3>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="admin-genre-article-title">
            <h2>Article</h2>
          </div>
          <table class="table admin-table">
            <thead>
              <tr class="admin-tr">
                <th>ジャンル名</th>
                <th>状態</th>
                <th>引用数</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <% @article_genres.each do |genre| %>
                <tr>
                  <td>
                    <%= genre.name %>
                  </td>
                  <td>
                    <% if genre.status == "有効" %>
                      有効
                    <% else %>
                      無効
                    <% end %>
                  </td>
                  <td>
                    <%= genre.article_genres.count %>
                  </td>
                  <td>
                    <%= link_to edit_admins_genre_path(genre), class: "btn btn-success btn-md" do%><i class="fa fa-pencil-square-o" aria-hidden="true"></i> 編集<% end %>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
        <div class="col-md-6">
          <div class="admin-genre-question-title">
            <h2>Question</h2>
          </div>
          <table class="table admin-table">
            <thead>
              <tr class="admin-tr">
                <th>ジャンル名</th>
                <th>状態</th>
                <th>引用数</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <% @question_genres.each do |genre| %>
                <tr>
                  <td>
                    <%= genre.name %>
                  </td>
                  <td>
                    <% if genre.status == "有効" %>
                      有効
                    <% else %>
                      無効
                    <% end %>
                  </td>
                  <td>
                    <%= genre.question_genres.count %>
                  </td>
                  <td>
                    <%= link_to edit_admins_genre_path(genre), class: "btn btn-success btn-md" do%><i class="fa fa-pencil-square-o" aria-hidden="true"></i> 編集<% end %>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>








